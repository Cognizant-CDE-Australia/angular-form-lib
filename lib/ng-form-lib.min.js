!function(a){"use strict";a.module("common.utility",[]),a.module("common",["common.utility"])}(window.angular),function(a){"use strict";var b=a.module("common.utility",[]);b.constant("DateUtil",{convertDate:function(a,b){if(!a||!b||"/"!==b&&"-"!==b)return a;var c="/"===b?"-":"/",d=a.split(c);return isNaN(d.join(""))||3!==d.length?a:d[2]+b+d[1]+b+d[0]},formatDay:function(a,b,c){var d=a,e=b,f=c;return a.getUTCDay&&(d=a.getDate(),e=a.getMonth()+1,f=a.getFullYear()),(10>d?"0"+d:d)+"/"+(10>e?"0"+e:e)+"/"+f},dateAdd:function(a,b){var c=this.getDate(a);return c.setDate(c.getDate()+b),this.formatDay(c)},getToday:function(a){return this.formatDay(a||new Date)},isISODate:function(a){return"string"==typeof a&&a.indexOf("-")>0},getDate:function(a){return this.isISODate(a)||(a=this.convertDate(a,"-")),new Date(a)},monthsBetween:function(a,b){return b.getMonth()-a.getMonth()+12*(b.getFullYear()-a.getFullYear())}}),b.constant("StringUtil",function(){var a=/^\s+|\s+$/g;return{trim:function(b){return"string"==typeof b?b.replace(a,""):b}}}()),b.constant("NumberUtil",function(){var a=/^\d+$/;return{isDigits:function(b){return a.test(b)}}}()),b.constant("ObjectUtil",{getUniqueId:function(){return(""+(new Date).getTime()+Math.random()).replace(/\./,"")},toArray:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&(b[b.length]={key:c,value:a[c]});return b.sort(function(a,b){return a.key<b.key}),b}})}(window.angular),function(a){"use strict";a.module("ngFormLib",["ngAnimate","ngFormLib.policy","ngFormLib.controls"])}(window.angular),function(a){"use strict";a.module("ngFormLib.controls",["ngFormLib.controls.errorMessageContainer","ngFormLib.controls.formCheckbox","ngFormLib.controls.formDate","ngFormLib.controls.formInput","ngFormLib.controls.formRadioButton","ngFormLib.controls.formSelect","ngFormLib.controls.formReset","ngFormLib.controls.formSubmit"])}(window.angular),function(a){"use strict";a.module("ngFormLib.controls.common",["common.utility","ngFormLib.controls.requiredMarker","ngFormLib/controls/formCheckbox/template/FormCheckboxTemplate.html","ngFormLib/controls/formDate/template/FormDateInputTemplate.html","ngFormLib/controls/formRadioButton/template/FormRadioButtonTemplate.html","ngFormLib/controls/formSelect/template/FormSelectTemplate.html"])}(window.angular),function(a){"use strict";var b=a.module("ngFormLib.controls.common");b.directive("fieldErrorController",["formControlService","$timeout",function(a,b){function c(b,c,d,e){c.attr("aria-invalid","error"===b);var f=d+"-"+e+"-errors-aria";"error"===b?a.addToAttribute(c,"aria-describedby",f):a.removeFromAttribute(c,"aria-describedby",f)}function d(a,b,c){b["error"===a?"addClass":"removeClass"](c.fieldErrorClass),b["success"===a?"addClass":"removeClass"](c.fieldSuccessClass)}function e(a,b,c,d,e){var f=b._policy,g=b.$name,h=g+"."+e,i=f.stateDefinitions(g,h);f.checkForStateChanges(a,d,e,i,c,b)}return{restrict:"AE",require:["?ngModel","?^form","?^formGroup"],replace:!0,link:function(a,f,g,h){var i=h[0],j=h[1],k=(h[2]||{}).$element||f,l=g.name;if(j){var m=j.$name,n=j._applyFormBehaviourOnStateChangePolicy;i&&e(a,j,i,f,l),a.$watch(m+"."+l+".fieldState",function(a){c(a,f,m,l),d(a,k,j._policy),n.applyBehaviour(f,a,!1)}),a.$on("event:FormSubmitAttempted",function(){b(function(){n.applyBehaviour(f,i.fieldState,!0)},1)})}}}}]),b.directive("formGroup",[function(){return{restrict:"AC",controller:["$scope","$element",function(a,b){this.$element=b}]}}])}(window.angular),function(a){"use strict";var b=a.module("ngFormLib.controls.common");b.config(["$provide",function(a){a.decorator("ngModelDirective",["$delegate",function(a){var b=a[0],c=b.controller;return b.controller=["$scope","$element","$attrs","$injector",function(a,b,d,e){var f=e.get("$interpolate");d.$set("name",f(d.name||"")(a)),e.invoke(c,this,{$scope:a,$element:b,$attrs:d})}],a}]),a.decorator("formDirective",["$delegate",function(a){var b=a[0],c=b.controller;return b.controller=["$scope","$element","$attrs","$injector",function(a,b,d,e){var f=e.get("$interpolate");d.$set("name",f(d.name||d.ngForm||"")(a)),e.invoke(c,this,{$scope:a,$element:b,$attrs:d})}],a}])}]),b.provider("formControlService",function(){var b=this,c=0;b.defaults={idPrefix:"fpFld",templates:{formCheckbox:{template:"ngFormLib/controls/formCheckbox/template/FormCheckboxTemplate.html"},formDate:{template:"ngFormLib/controls/formDate/template/FormDateInputTemplate.html"},formInput:{template:'<div class="form-group"><label class="control-label"></label><div class="control-row"><input #type# class="form-control"><span ng-transclude></span></div></div>'},formRadioButton:{template:"ngFormLib/controls/formRadioButton/template/FormRadioButtonTemplate.html"},formSelect:{template:"ngFormLib/controls/formSelect/template/FormSelectTemplate.html"},requiredMarker:{template:"ngFormLib/controls/requiredMarker/template/RequiredMarkerTemplate.html"}}},this.$get=["StringUtil","$interpolate",function(d){var e={defaults:b.defaults,buildDirective:function(a){var b={restrict:"AE",replace:!0,transclude:!0,compile:function(b,c){e.validateComponentStructure(a.controlName,b,a.expectedTemplateElements,c,a.expectedAttributes);var d=c.uid||e.getUniqueFieldId(),f=c.name||d,g=b.find(a.inputElementName||"input"),h=b.find("label"),i=e.getRequiredAttribute(c.required);e.decorateLabel(h,i,d,c.labelClass,c.hideLabel,c.hideRequiredIndicator,c.labelSuffix),e.decorateInputField(g,b,c,d,f,i),a.configFn(b,c,d,f,g,h),b.removeAttr("uid").removeAttr("name").removeAttr("label").removeAttr("required").removeAttr("field-hint").removeAttr("input-type").removeAttr("hide-label").removeAttr("hideRequiredIndicator").removeAttr("label-class").removeAttr("field-errors").removeAttr("text-errors")}};return b[a.templateType]=function(b,c){return c.template||e.getHTMLTemplate(b,a.controlName,c.inputType)},b},getUniqueFieldId:function(){return""+b.defaults.idPrefix+c++},getHTMLTemplate:function(a,c,d){for(var e=(a.inheritedData("formElementClasses")||"").split(" "),f=b.defaults.templates[c].template,g=0;g<e.length;g++){var h=b.defaults.templates[c][e[g]];if(h){f=h;break}}return d&&(f=f.replace("#type#","type="+d)),f},addToAttribute:function(a,b,c){var d=a.attr(b);a.attr(b,(d?d+" ":"")+c)},removeFromAttribute:function(a,b,c){var e=d.trim((" "+(a.attr(b)||"")+" ").replace(/[\n\t]/g," ").replace(" "+d.trim(c)+" "," "));""===e?a.removeAttr(b):a.attr(b,e)},getRequiredAttribute:function(a){return"required"===a||""===a||"true"===a?"true":void 0===a?"false":a},decorateLabel:function(a,b,c,d,e,f,g){c&&a.attr("for",c),d&&a.addClass(d),e&&a.attr("ng-class","{'sr-only': "+e+"}"),f||a.append('<span required-marker hide="!('+b+')"></span>'),g&&a.text(a.text()+" "+g)},decorateInputField:function(a,b,c,d,e,f){a.attr("id",d),a.attr("name",e);for(var g in c.$attr)if(0===g.indexOf("ff")){var h=c.$attr[g].substr(3);"class"===h?a.addClass(c[g]):"type"!==h&&a.attr(h,c[g]),b.removeAttr(c.$attr[g])}a.attr("ng-required",f),a.attr("aria-required","{{!!("+f+")}}")},createErrorFeatures:function(b,c,d,e,f,g){if(f||g){c.attr("field-error-controller","");var h=e?' field-label="'+e+'"':"",i=a.element('<div error-container field-name="'+d+'"'+h+"></div>");f&&i.attr("field-errors",f),g&&i.attr("text-errors",g),b.append(i)}},createFieldHint:function(b,c,d,e,f){var g;d&&(g=a.element(f?'<p ng-if="'+f+'" class="help-block" id="'+e+'">'+d+"</p>":'<p class="help-block" id="'+e+'">'+d+"</p>"),b.append(g),c.attr("aria-describedby",e))},buildNgClassExpression:function(a,b){var c=a.attr("ng-model"),d=a.attr("ng-checked"),e=a.attr("ng-disabled"),f=a.attr("value"),g=a.attr("ng-value"),h=a.attr("ng-true-value");c&&(c+=g||h?" === "+(g||h):f?" === '"+f+"'":" === true"),c&&d?c+=" || "+d:d&&(c=d),c&&e?b.attr("ng-class","{'checked': "+c+", 'disabled': "+e+"}"):c&&b.attr("ng-class","{'checked': "+c+"}")},validateComponentStructure:function(a,b,c,d,e){for(var f=0;f<c.length;f++)if(!b.find(c[f]))throw new Error("The "+a+" component template requires a "+c[f]+" element.");for(var g=0;g<e.length;g++)if(!d[e[g]])throw new Error("The "+a+" component requires a "+e[g]+" attribute.")}};return e}]})}(window.angular),function(a){"use strict";a.module("ngFormLib.controls.errorMessageContainer",["pascalprecht.translate"]).directive("errorContainer",["$compile","$filter",function(a,b){function c(a,c){var d=c?-1!=="aeiou".indexOf(c[0].toLowerCase()):void 0;return b("translate")(a,{pronoun:d?"an":"a",fieldLabel:c})}function d(a){var b=[],d=a;return{addError:function(a,d,e){b[a]=c(d,e)},removeError:function(a){delete b[a]},refreshErrorText:function(){var a="",c=0;for(var e in b)b.hasOwnProperty(e)&&(a+="Error "+ ++c+", "+b[e]+",");1===c?a=". There is 1 error for this field. "+a:c>1&&(a=". There are "+c+" errors for this field. "+a),d.text(a)}}}function e(a,b,d){return'<div class="text-error ec2-'+a+'"><span class="text-error-wrap">'+c(b,d)+"</span></div>"}function f(b,c,d,f,g,i,j,k){d.$watch(g,function(g){if(g){var l=a(e(i,j,k))(d);f.append(l),b.addError(i,j,k)}else h(b,c,f,i);b.refreshErrorText()})}function g(a,b,c,d,f,g,i){d.$watch(g,function(d){c.$setValidity(g,!d),h(a,b,f,g),d&&(f.append(e(g,d,i)),a.addError(g,d,i),b.setSubmitted(!0)),a.refreshErrorText()}),c.$viewChangeListeners.push(function(){d.$eval(g)&&d.$eval(g+" = null")})}function h(a,b,c,d){for(var e=c.find("div"),f=e.length,g=f-1;g>-1;g--)e.eq(g).hasClass("ec2-"+d)&&e.eq(g).remove();a.removeError(d)}return{restrict:"AE",require:["^form"],template:'<div class="container-error"></div>',replace:!0,link:function(a,b,c,e){var h=c.fieldName,i=c.fieldLabel||"",j=e[0],k=j.$name,l=k+"."+h,m=a.$eval(c.fieldErrors||[]),n=a.$eval(c.textErrors||[]);b.attr("id",k+"-"+h+"-errors"),b.append('<span class="sr-only" aria-hidden="true" id="'+k+"-"+h+'-errors-aria"></span>');var o=b.find("span"),p=new d(o);for(var q in m)if(m.hasOwnProperty(q)){var r=l+'.fieldState === "error" && '+l+".$error."+q;f(p,j,a,b,r,q,m[q],i)}if(n)var s=a.$watch(function(){return j[h]},function(c){if(c){s();for(var d in n)n.hasOwnProperty(d)&&g(p,j,j[h],a,b,n[d],i)}});b.removeAttr("error-container").removeAttr("field-name").removeAttr("field-errors").removeAttr("text-errors")}}}])}(window.angular),function(a){"use strict";var b=a.module("ngFormLib.controls.formCheckbox",["ngFormLib.controls.common","ngFormLib.controls.errorMessageContainer"]);b.directive("formCheckbox",["formControlService",function(a){return a.buildDirective({controlName:"formCheckbox",templateType:"templateUrl",expectedTemplateElements:["input","label","div"],expectedAttributes:[],configFn:function(b,c,d,e,f){var g=b.find("div");g.addClass(b.attr("class")),b.removeAttr("class"),a.createErrorFeatures(b,f,e,"",c.fieldErrors,c.textErrors),a.buildNgClassExpression(f,f)}})}])}(window.angular),angular.module("ngFormLib/controls/formCheckbox/template/FormCheckboxTemplate.html",[]).run(["$templateCache",function(a){"use strict";a.put("ngFormLib/controls/formCheckbox/template/FormCheckboxTemplate.html","<div form-group><div class=checkbox><input type=checkbox field-error-controller><label><span ng-transclude></span></label></div></div>")}]),function(a){"use strict";var b=a.module("ngFormLib.controls.formDate",["ngFormLib.controls.common","ngFormLib.controls.errorMessageContainer"]);b.directive("formDate",["formControlService",function(a){return a.buildDirective({controlName:"formDate",templateType:"templateUrl",expectedTemplateElements:["input","label"],expectedAttributes:["label"],configFn:function(b,c,d,e,f,g){g.prepend(c.label),a.createFieldHint(b,f,c.fieldHint,d+"-hint",c.fieldHintDisplay),a.createErrorFeatures(f.parent(),f,e,c.label,c.fieldErrors,c.textErrors)}})}]),b.directive("formDateFormat",["DateUtil",function(a){var b=/^(((0[1-9]|[12][0-9]|3[01])([\/])(0[13578]|10|12)([\/])(\d{4}))|(([0][1-9]|[12][0-9]|30)([\/])(0[469]|11)([\/])(\d{4}))|((0[1-9]|1[0-9]|2[0-8])([\/])(02)([\/])(\d{4}))|((29)(\/)(02)([\/])([02468][048]00))|((29)([\/])(02)([\/])([13579][26]00))|((29)([\/])(02)([\/])([0-9][0-9][0][48]))|((29)([\/])(02)([\/])([0-9][0-9][2468][048]))|((29)([\/])(02)([\/])([0-9][0-9][13579][26])))$/;return{require:"ngModel",priority:150,link:function(c,d,e,f){f.$parsers.unshift(function(c){if(!c)return f.$setValidity("date",!0),f.$setValidity("minDate",!0),f.$setValidity("maxDate",!0),c;8!==c.length||isNaN(1*c)||(c=c.substr(0,2)+"/"+c.substr(2,2)+"/"+c.substr(4));var d=b.test(c)||"undefined"==typeof c||!c;if(f.$setValidity("date",d),d&&c){var g=a.getDate(c);if(e.minDate){var h=a.getDate(e.minDate);f.$setValidity("minDate",g.getTime()>=h.getTime())}else f.$setValidity("minDate",!0);if(e.maxDate){var i;i=a.getDate("today"===e.maxDate?a.getToday():e.maxDate),f.$setValidity("maxDate",g.getTime()<=i.getTime())}else f.$setValidity("maxDate",!0)}else f.$setValidity("minDate",!0),f.$setValidity("maxDate",!0);return c}),f.$viewChangeListeners.push(function(){e.dateChange&&f.$valid&&c.$eval(e.dateChange)})}}}])}(window.angular),angular.module("ngFormLib/controls/formDate/template/FormDateInputTemplate.html",[]).run(["$templateCache",function(a){"use strict";a.put("ngFormLib/controls/formDate/template/FormDateInputTemplate.html","<div class=form-group><label class=control-label></label><div class=control-row><input class=form-control maxlength=10 placeholder=dd/mm/yyyy bs-datepicker form-date-format mask-date-digits><span ng-transclude></span></div></div>")}]),function(a){"use strict";var b=a.module("ngFormLib.controls.formInput",["ngFormLib.controls.common","ngFormLib.controls.errorMessageContainer"]);b.directive("formInput",["formControlService",function(a){function b(a,b){b&&a.attr("placeholder",b)}return a.buildDirective({controlName:"formInput",templateType:"template",expectedTemplateElements:["input","label"],expectedAttributes:["label","inputType"],configFn:function(c,d,e,f,g,h){h.prepend(d.label),b(g,d.placeholder),a.createFieldHint(c,g,d.fieldHint,e+"-hint",d.fieldHintDisplay),a.createErrorFeatures(g.parent(),g,f,d.label,d.fieldErrors,d.textErrors)}})}])}(window.angular),function(a){"use strict";var b=a.module("ngFormLib.controls.formRadioButton",["ngFormLib.controls.common","ngFormLib.controls.errorMessageContainer"]);b.directive("formRadioButton",["formControlService",function(a){return a.buildDirective({controlName:"formRadioButton",templateType:"templateUrl",expectedTemplateElements:["input","label","div"],expectedAttributes:[],configFn:function(b,c,d,e,f){var g=b.find("div");g.addClass(b.attr("class")),b.removeAttr("class"),a.createErrorFeatures(b,f,e,"",c.fieldErrors,c.textErrors),a.buildNgClassExpression(f,f)}})}])}(window.angular),angular.module("ngFormLib/controls/formRadioButton/template/FormRadioButtonTemplate.html",[]).run(["$templateCache",function(a){"use strict";a.put("ngFormLib/controls/formRadioButton/template/FormRadioButtonTemplate.html","<div><div class=radio><input type=radio field-error-controller><label><span ng-transclude></span></label></div></div>")}]),function(a){"use strict";var b=a.module("ngFormLib.controls.formReset",[]);b.directive("formReset",["$parse",function(b){function c(a){for(var b in a)if(a.hasOwnProperty(b))for(var c=a[b],d=0,e=c.length;e>d;d++){var f=c[d].controller;f.fieldState=""}}return{restrict:"A",require:"^form",link:function(d,e,f,g){var h=b(f.formReset),i=h.assign;if(!i)throw Error('formReset requires an assignable scope-expression. "'+f.formReset+'" is un-assignable.');var j=a.copy(h(d));e.on("click",function(){"function"==typeof g.setSubmitted&&g.setSubmitted(!1),i(d,a.copy(j)),c(g._controls||{}),g.$setPristine(),d.$emit("event:FormReset"),d.$digest()})}}}])}(window.angular),function(a){"use strict";var b=a.module("ngFormLib.controls.formSelect",["ngFormLib.controls.common","ngFormLib.controls.errorMessageContainer"]);b.directive("formSelect",["formControlService",function(a){function b(a,b){b&&a.append('<option translate value="">'+b+"</option>")}return a.buildDirective({controlName:"formSelect",templateType:"templateUrl",inputElementName:"select",expectedTemplateElements:["select","label"],expectedAttributes:["label"],configFn:function(c,d,e,f,g,h){h.prepend(d.label),b(g,d.placeholder),a.createFieldHint(c,g,d.fieldHint,e+"-hint",d.fieldHintDisplay),a.createErrorFeatures(g.parent(),g,f,d.label,d.fieldErrors,d.textErrors)}})}])}(window.angular),angular.module("ngFormLib/controls/formSelect/template/FormSelectTemplate.html",[]).run(["$templateCache",function(a){"use strict";a.put("ngFormLib/controls/formSelect/template/FormSelectTemplate.html","<div class=form-group><label class=control-label></label><div class=control-row><select class=form-control></select></div></div>")}]),function(a){"use strict";var b=a.module("ngFormLib.controls.formSubmit",[]);b.directive("formSubmit",["$parse",function(b){return{restrict:"A",require:["^form"],link:function(c,d,e,f){var g=b(e.formSubmit)||a.noop,h="FORM"===d[0].tagName,i=f[0];d.bind(h?"submit":"click",function(a){i.setSubmitted(!0),c.$apply(function(){i.$valid?g(c,{$event:a})!==!1&&(i.setSubmitted(!1),i.$setPristine()):a.preventDefault()})})}}}])}(window.angular),function(a){"use strict";var b=a.module("ngFormLib.controls.requiredMarker",["ngFormLib.controls.common","ngFormLib/controls/requiredMarker/template/RequiredMarkerTemplate.html"]);b.directive("requiredMarker",["formControlService",function(a){return{restrict:"AE",replace:!0,transclude:!0,templateUrl:function(b,c){return c.template||a.getHTMLTemplate(b,"requiredMarker")},scope:{hide:"="}}}])}(window.angular),angular.module("ngFormLib/controls/requiredMarker/template/RequiredMarkerTemplate.html",[]).run(["$templateCache",function(a){"use strict";a.put("ngFormLib/controls/requiredMarker/template/RequiredMarkerTemplate.html","<span class=required aria-hidden=true ng-class=\"{'ng-hide': hide}\" ng-transclude></span>")}]),function(a){"use strict";function b(b){return{restrict:"AE",scope:{formPolicy:"&"},require:["?form"],compile:function(c,d){return c.data("formElementClasses",d["class"]),c.data("formElementClasses",d["class"]),{pre:function(c,d,e,f){var g=f[0];g._policy=a.extend(b.getCurrentPolicy(),c.formPolicy()),g._parentController=d.parent().controller("form"),g._parentController||(g._controls={}),g._applyFormBehaviourOnStateChangePolicy=g._policy.behaviourOnStateChange(g),g.setSubmitted=function(a,b){d[a?"addClass":"removeClass"](g._policy.formSubmitAttemptedClass),g._formSubmitAttempted=a,g._applyFormBehaviourOnStateChangePolicy.resetBehaviour(),a&&!b&&c.$parent.$broadcast("event:FormSubmitAttempted")},g._formSubmitAttempted=!1,g._applyFormBehaviourOnStateChangePolicy.resetBehaviour(),g._parentController&&c.$watch(function(){return g._parentController._formSubmitAttempted},function(a){void 0!==a&&g.setSubmitted(!!a)})}}}}}var c=a.module("ngFormLib.policy",[]);c.provider("formPolicyService",function(){var b=this,c=a.noop,d=function(){return{applyBehaviour:c,resetBehaviour:c}},e=function(){return{}};b.defaults={formSubmitAttemptedClass:"form-submit-attempted",fieldErrorClass:"has-error",fieldSuccessClass:"has-success",behaviourOnStateChange:null,checkForStateChanges:null,stateDefinitions:null,fieldFocusScrollOffset:0},this.$get=["$injector",function(f){function g(a){try{return f.get(a)}catch(b){return null}}b.defaults.behaviourOnStateChange=b.defaults.behaviourOnStateChange||g("formPolicyBehaviourOnStateChange")||d,b.defaults.checkForStateChanges=b.defaults.checkForStateChanges||g("formPolicyCheckForStateChanges")||c,b.defaults.stateDefinitions=b.defaults.stateDefinitions||g("formPolicyStateDefinitions")||e;var h={getCurrentPolicy:function(){return a.copy(b.defaults)}};return h}]}),c.directive("form",["formPolicyService",b]),c.directive("ngForm",["formPolicyService",b]);var d=["input","select"];a.forEach(d,function(a){c.directive(a,function(){function a(a,b,c,d){var e=a._controls;e[c]||(e[c]=[]),e[c][e[c].length]={element:b,controller:d},b.on("$destroy",function(){for(var c=a._controls[b.attr("name")],d=b.attr("id"),e=0;e<c.length;e++)if(c[e].element.attr("id")===d){c.splice(e,1);break}})}return{restrict:"E",require:["?^form","?ngModel"],link:{pre:function(b,c,d,e){if(e[0]){var f=e[0]._parentController||e[0],g=e[1],h=d.name;f&&f._controls&&a(f,c,h,g)}}}}})})}(window.angular),function(a,b){"use strict";function c(a,b,c,f,g){return f[0].offsetHeight?(b.cancel(d),b.cancel(e),d=b(function(){f[0].focus()},c),e=a.scrollToElement(f,g,c),!0):!1}var d,e;b.module("ngFormLib.policy.behaviourOnStateChange",["duScroll"]).service("formPolicyBehaviourOnStateChangeLibrary",["$document","$timeout","duScrollDuration",function(a,b,d){function e(e){var f=e._parentController||e;return{applyBehaviour:function(g,h,i){"error"===h&&i&&!f._focusErrorElement&&c(a,b,d,g,e._policy.fieldFocusScrollOffset)&&(f._focusErrorElement=g)},resetBehaviour:function(){f._focusErrorElement=null}}}return{onSubmitFocusFirstFieldIfError:e}}]).factory("formPolicyBehaviourOnStateChange",["formPolicyBehaviourOnStateChangeLibrary",function(a){return a.onSubmitFocusFirstFieldIfError}])}(window,window.angular),function(a){"use strict";function b(b,c,d,e,g){var i;b.$on("event:FormSubmitAttempted",function(){(i||a.noop)(),i=f(b,e,g)}),b.$on("event:FormReset",function(){(i||a.noop)()}),h(b,c,d,e,g)}function c(a,b,c,d,e){f(a,d,e)}function d(a,b,c,d,e){h(a,b,c,d,e)}function e(a,b,c,d){a.$watch(d,function(a){a===!0&&(b.fieldState=c)})}function f(a,b,c){for(var d in b)b.hasOwnProperty(d)&&e(a,c,d,b[d])}function g(a,b,c){for(var d in b)if(a.$eval(b[d])===!0){c.fieldState=d;break}}function h(a,b,c,d,e){g(a,d,e),b.bind("blur",function(){g(a,d,e),a.$apply()})}a.module("ngFormLib.policy.checkForStateChanges",[]).constant("formPolicyCheckForStateChangesLibrary",function(){return{onChange:c,onBlur:d,onBlurUntilSubmitThenOnChange:b}}()).factory("formPolicyCheckForStateChanges",["formPolicyCheckForStateChangesLibrary",function(a){return a.onBlurUntilSubmitThenOnChange}])}(window.angular),function(a){"use strict";function b(a,b){return a+"._formSubmitAttempted && "+b+".$invalid"}function c(a,b){return b+".$dirty && "+b+".$invalid"}function d(a,b){return b+".$invalid"}function e(a,b){return a+"._formSubmitAttempted && "+b+".$dirty && "+b+".$invalid"}function f(a,b){return"("+a+"._formSubmitAttempted || "+b+".$dirty) && "+b+".$invalid"}function g(a,b){return a+"._formSubmitAttempted && "+b+".$valid"}function h(a,b){return b+".$dirty && "+b+".$valid"}function i(a,b){return b+".$valid"}function j(a,b){return a+"._formSubmitAttempted && "+b+".$dirty && "+b+".$valid"}function k(a,b){return"("+a+"._formSubmitAttempted || "+b+".$dirty) && "+b+".$valid"}var l=a.module("ngFormLib.policy.stateDefinitions",[]);l.value("formPolicyErrorDefinitionLibrary",function(){return{onSubmit:b,onDirty:c,immediately:d,onSubmitAndDirty:e,onSubmitOrDirty:f}}()),l.value("formPolicySuccessDefinitionLibrary",function(){return{onSubmit:g,onDirty:h,immediately:i,onSubmitAndDirty:j,onSubmitOrDirty:k}}()),l.factory("formPolicyStateDefinitions",["formPolicyErrorDefinitionLibrary","formPolicySuccessDefinitionLibrary",function(a,b){return function(c,d){return{error:a.onSubmitOrDirty(c,d),success:b.onSubmitOrDirty(c,d)}}}])}(window.angular);